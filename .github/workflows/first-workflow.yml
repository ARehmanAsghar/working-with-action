name: pipeline


on:
   push:
    branchs: [main]
   workflow_dispatch:

   permission: write

   jobs:
    build_and_deploy:
     runs-on: ubuntu-latest


     steps:
         name: Checkout repository
         uses: actions/checkout@v3

         name: setup Node.js
         uses: actions/setup-node@v3
         with:
            node-version: 18
         
         name: Install dependencies
         run: npm run build

         name: Deploy to gitHub pages
         uses: JamesIves/github-pages-deploy-action@4.1.0
         with:
            branch: gh-pages
            folder: build
